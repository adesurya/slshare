<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title><%= title %></title>
  <link rel="stylesheet" href="/css/styles.css">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .brands-container {
      padding: 15px;
    }

    .brands-header {
      margin-bottom: 20px;
    }

    .brands-header h1 {
      font-size: 20px;
      margin-bottom: 5px;
    }

    .brands-header p {
      color: #666;
      font-size: 14px;
    }

    .brands-list {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .brand-card {
      background-color: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      transition: transform 0.2s ease;
    }

    .brand-card:hover {
      transform: translateY(-3px);
    }

    .brand-card a {
      display: block;
      padding: 15px;
    }

    .brand-logo {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      margin-bottom: 10px;
      background-color: #f5f5f5;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    .brand-logo img {
      max-width: 80%;
      max-height: 80%;
      object-fit: contain;
    }

    .brand-name {
      font-size: 16px;
      font-weight: bold;
      margin-bottom: 5px;
    }

    .brand-cashback {
      font-size: 12px;
      color: #32a852;
      margin-bottom: 10px;
    }

    .brand-product-count {
      font-size: 12px;
      color: #666;
    }

    .featured-brand {
      grid-column: span 2;
      background-color: #fff9f9;
      border: 1px solid #ffdddd;
    }

    .featured-brand .brand-logo {
      width: 80px;
      height: 80px;
    }

    .featured-brand .brand-name {
      font-size: 18px;
    }

    .featured-brand .brand-cashback {
      font-size: 14px;
    }

    /* For tablets and up */
    @media (min-width: 768px) {
      .brands-list {
        grid-template-columns: repeat(3, 1fr);
      }

      .featured-brand {
        grid-column: span 3;
      }
    }

    /* For desktop */
    @media (min-width: 1024px) {
      .brands-list {
        grid-template-columns: repeat(4, 1fr);
      }

      .featured-brand {
        grid-column: span 2;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <div class="logo">
        <a href="/">MOVA</a>
        <span class="tagline">Belanja Sambil Cuan</span>
      </div>
      <div class="header-right">
        <a href="/faq" class="faq-link">FAQ</a>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Search Bar -->
    <% if (locals.showSearchBar) { %>
    <div class="search-container">
      <form action="/search" method="get" class="search-form">
        <input type="text" name="q" placeholder="Tempelkan tautan Shopee/TikTok" class="search-input">
        <button type="submit" class="search-button">Tempel</button>
      </form>
    </div>
    <% } %>

    <div class="brands-container">
      <div class="brands-header">
        <h1>Brand Populer</h1>
        <p>Temukan brand favorit Anda dengan penawaran cashback terbaik</p>
      </div>
      
      <div class="brands-list">
        <% if (brands && brands.length > 0) { %>
          <% brands.forEach((brand, index) => { %>
            <div class="brand-card <%= index === 0 && brand.cashback_percentage >= 8 ? 'featured-brand' : '' %>">
              <a href="/brands/<%= brand.id %>">
                <div class="brand-logo">
                  <img src="/images/brands/<%= brand.name.toLowerCase() %>.png" onerror="this.src='/images/brand-placeholder.jpg'" alt="<%= brand.name %>">
                </div>
                <h3 class="brand-name"><%= brand.name %></h3>
                <div class="brand-cashback">Cashback hingga <%= brand.cashback_percentage %>%</div>
                <div class="brand-product-count">
                  <%= brand.products ? brand.products.length : 0 %> produk tersedia
                </div>
              </a>
            </div>
          <% }); %>
        <% } else { %>
          <div style="grid-column: span 2; text-align: center; padding: 30px 0; color: #666;">
            Belum ada brand yang tersedia
          </div>
        <% } %>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="/" class="nav-item <%= currentPage === 'home' ? 'active' : '' %>">
      <i class="fas fa-home"></i>
      <span>Beranda</span>
    </a>
    <a href="/brands" class="nav-item <%= currentPage === 'brands' ? 'active' : '' %>">
      <i class="fas fa-tag"></i>
      <span>Brand</span>
    </a>
    <a href="/user/dashboard" class="nav-item <%= currentPage === 'earnings' ? 'active' : '' %>">
      <i class="fas fa-wallet"></i>
      <span>Pendapatan</span>
    </a>
    <a href="/user/profile" class="nav-item <%= currentPage === 'profile' ? 'active' : '' %>">
      <i class="fas fa-user"></i>
      <span>Saya</span>
    </a>
  </nav>

  <!-- Scripts -->
  <script src="/js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // JavaScript khusus untuk halaman brands jika diperlukan
      console.log("Brands page loaded");
    });
  </script>
</body>
</html>